## FIUP Tool 功能规划

### 🔴 优先级 P0 - 核心痛点

| 功能          | 描述                     | 价值         |
| ----------- | ---------------------- | ---------- |
| **补丁重排序**   | 拖拽调整补丁顺序，增量模式下顺序很重要    | 解决补丁依赖顺序问题 |
| **批量文件处理**  | 支持上传整个文件夹 / zip，自动匹配路径 | 多文件项目场景必需  |
| **撤销/重做**   | 编辑操作可撤销，防止误操作          | 降低使用风险     |
| **补丁依赖可视化** | 显示补丁之间的依赖关系图           | 理解复杂补丁链    |

---

### 🟠 优先级 P1 - 体验提升

| 功能          | 描述                          | 价值      |
| ----------- | --------------------------- | ------- |
| **语法高亮**    | 根据文件类型（.py/.js/.ts）显示代码高亮   | 可读性大幅提升 |
| **行内 Diff** | 不只是行级别，显示单词/字符级别差异          | 精确定位修改点 |
| **锚点自动建议**  | 匹配失败时，智能推荐相似度最高的代码段         | 减少手动排查  |
| **补丁模板**    | 常用操作模板（添加 import、添加方法等）     | 提高效率    |
| **键盘快捷键**   | Ctrl+S 保存、Ctrl+Z 撤销、↑↓ 切换补丁 | 高效操作    |

---

### 🟡 优先级 P2 - 高级功能

| 功能       | 描述                      | 价值     |
| -------- | ----------------------- | ------ |
| **冲突检测** | 检测多个补丁是否修改同一区域          | 避免覆盖问题 |
| **补丁合并** | 多个连续的小补丁合并为一个           | 简化补丁链  |
| **逆向生成** | 从两个文件版本自动生成 FIUP 补丁     | 反向工程   |
| **正则锚点** | 支持正则表达式匹配锚点             | 灵活匹配   |
| **条件应用** | 补丁可设置条件（如：仅当某内容存在时应用）   | 兼容性处理  |
| **断点预览** | 可选择"应用到第 N 个补丁为止"预览中间状态 | 调试增量链  |

---

### 🟢 优先级 P3 - 生态集成

| 功能             | 描述                               | 价值     |
| -------------- | -------------------------------- | ------ |
| **VS Code 插件** | 在编辑器内直接应用 FIUP 补丁                | IDE 集成 |
| **CLI 工具**     | 命令行版本 `fiup apply patch.md`      | 自动化脚本  |
| **Git 集成**     | 从 git diff 生成 FIUP，或应用后自动 commit | 版本控制   |
| **导出格式**       | 导出为 unified diff / patch 文件      | 兼容性    |
| **云端同步**       | 补丁集保存到云端，跨设备使用                   | 团队协作   |
| **AI 助手**      | 接入 LLM 自动修复失败的锚点匹配               | 智能修复   |

---

### 🔵 优先级 P4 - 细节优化

| 功能            | 描述              |
| ------------- | --------------- |
| **深色/浅色主题切换** | 适应不同使用环境        |
| **补丁分组/标签**   | 按功能模块组织补丁       |
| **搜索过滤**      | 在补丁列表中搜索文件名/内容  |
| **统计面板**      | 显示总修改行数、新增/删除比例 |
| **导入历史**      | 记录最近使用的补丁，快速重用  |
| **移动端适配**     | 响应式优化，支持触屏操作    |
| **国际化**       | 英文/中文切换         |